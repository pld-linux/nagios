set sane format for archived logs, so the files would be sortable
ideally this should came from config (date_format=iso8601)

--- nagios-3.4.1/base/logging.c~	2012-05-24 17:09:34.000000000 +0300
+++ nagios-3.4.1/base/logging.c	2012-05-24 17:10:09.466859755 +0300
@@ -424,7 +424,7 @@
 	stat_result = stat(log_file, &log_file_stat);
 
 	/* get the archived filename to use */
-	asprintf(&log_archive, "%s%snagios-%02d-%02d-%d-%02d.log", log_archive_path, (log_archive_path[strlen(log_archive_path) - 1] == '/') ? "" : "/", t->tm_mon + 1, t->tm_mday, t->tm_year + 1900, t->tm_hour);
+	asprintf(&log_archive," %s%snagios-%04d-%02d-%02d-%02d.log", log_archive_path, (log_archive_path[strlen(log_archive_path) - 1] == '/') ? "" : "/", t->tm_year + 1900, t->tm_mon + 1, t->tm_mday, t->tm_hour);
 
 	/* rotate the log file */
 	rename_result = my_rename(log_file, log_archive);
--- nagios-3.4.1/cgi/cgiutils.c~	2012-05-24 17:09:34.000000000 +0300
+++ nagios-3.4.1/cgi/cgiutils.c	2012-05-24 17:11:08.629380008 +0300
@@ -1143,7 +1143,7 @@
 	t = localtime(&this_scheduled_log_rotation);
 
 	/* use the time that the log rotation occurred to figure out the name of the log file */
-	snprintf(buffer, buffer_length, "%snagios-%02d-%02d-%d-%02d.log", log_archive_path, t->tm_mon + 1, t->tm_mday, t->tm_year + 1900, t->tm_hour);
+	snprintf(buffer, buffer_length, "%snagios-%04d-%02d-%02d-%02d.log", log_archive_path, t->tm_year + 1900, t->tm_mon + 1, t->tm_mday, t->tm_hour);
 	buffer[buffer_length - 1] = '\x0';
 
 	return;
